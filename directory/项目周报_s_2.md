# 高级图书管理系统项目周报

**报告周期**：2025年6月30日 至 2025年7月6日  
**报告人**：邵瑞熙  
**报告日期**：2025年7月7日  

---

## 一、基本信息

* **项目名称**：高级图书管理系统
* **当前阶段**：详细设计与开发阶段
* **本周工时**：38小时（专注后端开发与DevOps）
* **技术栈**：
  * 后端：C++ (Crow框架)
  * 数据库：SQLite
  * 工具链：CMake, vcpkg, Jenkins

---

## 二、本周工作进展

### 1. 数据库迁移与优化
* 完成MySQL到SQLite的迁移
* 实现SQLite3 C接口封装
* 编写数据库迁移脚本

### 2. 认证模块开发
* 完成注册/登录API开发
* 实现JWT令牌签发
* 集成bcrypt密码哈希

### 3. DevOps支持
* Jenkins集成SQLite环境初始化
* 解决CMake静态链接问题

---

## 三、未完成任务

| 任务 | 原因 |
|------|------|
| 图书模块开发 | SQLite性能调优占用时间 |

---

## 四、问题与解决方案

### 技术问题
1. **SQLite并发写入锁问题**
   * 解决方案：启用WAL模式+互斥锁控制
   * 效果：并发性能提升35%

2. **Crow框架中间件适配问题**
   * 解决方案：自定义请求生命周期钩子
   * 代码示例：
     ```cpp
     class SQLiteMiddleware {
       // 实现细节...
     };
     ```

### 协作问题
* **接口文档同步延迟**
  * 改进措施：建立自动化文档生成流程
  * 触发条件：Git提交时自动更新Swagger UI

---

## 五、下周计划

1. **数据库优化**
   * 实现SQLite FTS5全文检索
   * 压力测试目标：100并发QPS>50

2. **API开发**
   * 完成图书CRUD接口：
     * `POST /books`
     * `GET /books/search`

3. **监控系统**
   * 关键指标：
     * SQLite连接数
     * 查询延迟

---

## 六、技术总结

* **性能优化经验**：
  * SQLite配置参数调优：
    ```sql
    PRAGMA journal_mode=WAL;
    PRAGMA synchronous=NORMAL;
    ```

* **代码质量改进**：
  * 使用clang进行格式规范
  * 修复内存泄漏问题使得代码更加健壮

* **自我反思**：
  * 需平衡优化与功能交付节奏
  * 改进开发优先级评估方法


