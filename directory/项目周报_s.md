#### **《高级图书管理系统》 周报**

**报告周期：** 2025年6月24日 至 2025年6月30日  
**报告人：** 邵瑞熙  
**报告日期：** 2025年6月30日

---

### 一、 基本信息

- **项目名称：** 高级图书管理系统（基于 Vue.js 前端与 Drogon C++ 后端，JSON 通信）
- **当前项目阶段：** 模块开发阶段
- **本周总工时：** 30小时

---

### 二、 本周完成工作

- **目标达成情况：**
  - 上周计划完成系统整体架构的初步实现和前后端通信测试，已完成约90%。

- **具体完成任务列表：**
  - 【任务1】：完成了前端 Vue 项目的基本搭建，包括 `router`、`store`、页面结构与初步 UI。
  - 【任务2】：实现了图书列表 `BookListView.vue` 与登录页面 `LoginView.vue` 的初稿界面。
  - 【任务3】：在后端 Drogon 框架下完成了用户注册/登录的 API 实现（`auth_api.cpp` 与 `auth_service.cpp`）。
  - 【任务4】：配置数据库连接模块 `mysql_connection.cpp`，并建立了 `users` 与 `books` 表。
  - 【任务5】：完成前后端用户登录的 JSON 通信调试。
  - 【任务6】：撰写并补充了部分设计文档（`docs/design/detailed_design.md`），并绘制系统架构图。

---

### 三、 未完成工作及原因

- **未完成任务列表：**
  - 【任务1】：图书信息管理（增删改查）功能接口尚未全部完成。
    - **原因：** API 结构需要统一规划，数据库字段设计在调整中。
  - 【任务2】：用户权限控制功能未实现。
    - **原因：** JWT 与 bcrypt 加密模块尚未完全调试完成，前后端 token 验证仍存在小问题。

---

### 四、 遇到的问题与困难

- **技术问题：**
  - 在使用 Drogon 处理 JSON 请求时，遇到中文编码异常问题。
    - **已尝试的解决方案：** 检查响应头编码，参考官方文档调整为 UTF-8 并尝试显式设置 content-type。
    - **需要帮助或待解决：** 确保后端 Drogon 响应在所有平台下都能正确解析中文。

  - JWT 鉴权流程中，token 解析失败时错误返回格式不统一。
    - **已尝试的解决方案：** 使用统一异常处理函数包裹 `jwt.cpp`，准备封装一个错误响应工具类。
    - **需要帮助或待解决：** 后续需对异常处理机制做进一步统一设计。

- **非技术问题：**
  - 时间分配偏向后端开发，前端 UI 进展稍慢。
    - **已采取的措施：** 重新调整开发计划，将前端任务细分到每日目标中。

---

### 五、 下周计划

- **主要目标：**
  - 完成图书管理模块（前后端）与用户权限验证机制。

- **具体任务列表：**
  - 【任务1】：开发图书增删改查相关接口（预计2天）
  - 【任务2】：完成 `BookForm.vue` 与 `BookList.vue` 的联调（预计2天）
  - 【任务3】：完成用户鉴权中 token 生成与前端缓存机制（预计1天）
  - 【任务4】：撰写 API 文档（OpenAPI 格式），并生成 swagger UI（预计1天）
  - 【任务5】：完成至少3个单元测试与1个端到端测试（预计1天）

---

### 六、 心得体会与学习收获

- **本周学习到的新知识/技能：**
  - 学会使用 Vue Router 与 Vuex 管理页面状态和权限控制；
  - 掌握了 Drogon 框架中 JSON 请求与响应的处理方式；
  - 初步了解 OpenAPI 与 Swagger UI 的使用流程；
  - 熟悉 MySQL 表结构与 SQL 建表脚本的书写规范。

- **对项目或开发流程的思考：**
  - 前后端分离的开发流程清晰，但必须建立良好的 API 约定文档，否则联调成本很高；
  - 将开发任务拆分为细颗粒并写入每日目标能显著提高效率；
  - 对模块间依赖的认识更深入，接口封装与设计模式值得继续研究。

- **自我改进方面：**
  - 意识到对 Vue3 的语法掌握不够深入，下周安排时间补习 Composition API；
  - 时间估算能力需加强，有任务低估了开发所需时长；
  - 后端开发过程应更多采用单元测试，避免频繁手动调试。

